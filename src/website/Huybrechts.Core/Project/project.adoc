= Data Model

== Project Model

This documentation provides an overview of the project model, including its various entities and their relationships. The model encompasses components such as project simulations, project entries, project information, scenarios, designs, and associated platform details.

=== Class Diagram

[mermaid]
----
classDiagram
    class ProjectSimulation {
        +Ulid Id
        +string Name
        +string? Description
        +bool IsCalculating
        +string? Remark
        +string? Tags
        +string? SearchIndex
        +List<ProjectSimulationEntry> SimulationEntries
    }

    class ProjectSimulationEntry {
        +Ulid ProjectSimulationId
        +Ulid ProjectInfoId
        +Ulid ProjectScenarioId
        +Ulid ProjectDesignId
        +Ulid ProjectComponentId
        +Ulid? ProjectQuantityId
        +Ulid? PlatformInfoId
        +Ulid? PlatformProductId
        +Ulid PlatformRegionId
        +Ulid PlatformServiceId
        +Ulid PlatformRateId
        +string? UnitDescription
        +string? UnitCategory
        +string CurrencyCode
        +string UnitOfMeasure
        +decimal Quantity
        +decimal SalesPrice
        +decimal RetailPrice
        +decimal UnitPrice
        +int OwnershipPercentage
        +decimal SalesAmount
        +decimal RetailAmount
        +decimal UnitAmount
        +decimal OwnSalesAmount
        +decimal OwnRetailAmount
        +decimal OwnUnitAmount
    }

    class ProjectInfo {
        +Ulid Id
        +string Name
    }

    class ProjectScenario {
        +Ulid Id
        +string Name
    }

    class ProjectDesign {
        +Ulid Id
        +string Name
    }

    class ProjectComponent {
        +Ulid Id
        +string Name
    }

    class ProjectQuantity {
        +Ulid Id
        +decimal Quantity
    }

    class PlatformInfo {
        +Ulid Id
        +string Name
    }

    class PlatformProduct {
        +Ulid Id
        +string Name
    }

    class PlatformRegion {
        +Ulid Id
        +string Name
    }

    class PlatformService {
        +Ulid Id
        +string Name
    }

    class PlatformRate {
        +Ulid Id
        +decimal Rate
    }

    ProjectSimulation --> ProjectSimulationEntry : "Contains"
    ProjectSimulationEntry --> ProjectInfo : "References"
    ProjectSimulationEntry --> ProjectScenario : "References"
    ProjectSimulationEntry --> ProjectDesign : "References"
    ProjectSimulationEntry --> ProjectComponent : "References"
    ProjectSimulationEntry --> ProjectQuantity : "References"
    ProjectSimulationEntry --> PlatformInfo : "Optional"
    ProjectSimulationEntry --> PlatformProduct : "Optional"
    ProjectSimulationEntry --> PlatformRegion : "Mandatory"
    ProjectSimulationEntry --> PlatformService : "Mandatory"
    ProjectSimulationEntry --> PlatformRate : "Mandatory"
----

=== ProjectSimulation

The `ProjectSimulation` class represents a simulation for a given project, storing various details and configurations related to the project's estimation.

* **Properties**:
  - `Ulid Id`: Unique identifier for the simulation.
  - `string Name`: Name of the simulation.
  - `string? Description`: Detailed description of the simulation.
  - `bool IsCalculating`: Indicates if the simulation is currently being calculated.
  - `string? Remark`: Additional notes about the simulation.
  - `string? Tags`: Keywords associated with the simulation.
  - `string? SearchIndex`: Normalized values for searching.
  - `List<ProjectSimulationEntry> SimulationEntries`: List of entries associated with the simulation.

=== ProjectSimulationEntry

The `ProjectSimulationEntry` class represents a single entry in a project simulation, containing detailed information about project components, design, scenarios, and associated costs.

* **Properties**:
  - `Ulid ProjectSimulationId`: Foreign key linking to the associated project simulation.
  - `Ulid ProjectInfoId`: Foreign key referencing project information.
  - `Ulid ProjectScenarioId`: Foreign key referencing project scenarios.
  - `Ulid ProjectDesignId`: Foreign key referencing project designs.
  - `Ulid ProjectComponentId`: Foreign key referencing project components.
  - `Ulid? ProjectQuantityId`: Optional foreign key for project quantity.
  - `Ulid? PlatformInfoId`: Optional foreign key for platform information.
  - `Ulid? PlatformProductId`: Optional foreign key for platform products.
  - `Ulid PlatformRegionId`: Mandatory foreign key for platform region.
  - `Ulid PlatformServiceId`: Mandatory foreign key for platform service.
  - `Ulid PlatformRateId`: Mandatory foreign key for platform rates.
  - `string? UnitDescription`: Description of the unit.
  - `string? UnitCategory`: Category of the component unit.
  - `string CurrencyCode`: Currency code for pricing.
  - `string UnitOfMeasure`: Unit of measure for pricing.
  - `decimal Quantity`: Quantity of service units.
  - `decimal SalesPrice`: Sales price for a service.
  - `decimal RetailPrice`: Retail price of the service.
  - `decimal UnitPrice`: Unit price of the service.
  - `int OwnershipPercentage`: Percentage of ownership for the component.
  - `decimal SalesAmount`: Internal retail cost used for calculating profit margins.
  - `decimal RetailAmount`: Retail cost used for calculating profit margins.
  - `decimal UnitAmount`: Unit cost used for cost breakdown.
  - `decimal OwnSalesAmount`: Sales revenue adjusted for ownership percentage.
  - `decimal OwnRetailAmount`: Retail cost adjusted for ownership percentage.
  - `decimal OwnUnitAmount`: Unit cost adjusted for ownership percentage.

=== ProjectInfo

The `ProjectInfo` class stores details about a project.

* **Properties**:
  - `Ulid Id`: Unique identifier for the project.
  - `string Name`: Name of the project.

=== ProjectScenario

The `ProjectScenario` class represents a scenario within a project.

* **Properties**:
  - `Ulid Id`: Unique identifier for the scenario.
  - `string Name`: Name of the scenario.

=== ProjectDesign

The `ProjectDesign` class contains information about the design aspects of a project.

* **Properties**:
  - `Ulid Id`: Unique identifier for the project design.
  - `string Name`: Name of the design.

=== ProjectComponent

The `ProjectComponent` class represents components that make up a project.

* **Properties**:
  - `Ulid Id`: Unique identifier for the component.
  - `string Name`: Name of the component.

=== ProjectQuantity

The `ProjectQuantity` class keeps track of quantities associated with project elements.

* **Properties**:
  - `Ulid Id`: Unique identifier for the project quantity.
  - `decimal Quantity`: Quantity associated with the project.

=== PlatformInfo

The `PlatformInfo` class holds information related to platform-specific data.

* **Properties**:
  - `Ulid Id`: Unique identifier for the platform info.
  - `string Name`: Name of the platform info.

=== PlatformProduct

The `PlatformProduct` class represents products available on the platform.

* **Properties**:
  - `Ulid Id`: Unique identifier for the platform product.
  - `string Name`: Name of the product.

=== PlatformRegion

The `PlatformRegion` class defines geographical regions for pricing.

* **Properties**:
  - `Ulid Id`: Unique identifier for the platform region.
  - `string Name`: Name of the region.

=== PlatformService

The `PlatformService` class represents services offered on the platform.

* **Properties**:
  - `Ulid Id`: Unique identifier for the platform service.
  - `string Name`: Name of the service.

=== PlatformRate

The `PlatformRate` class defines rates for products or services on the platform.

* **Properties**:
  - `Ulid Id`: Unique identifier for the platform rate.
  - `decimal Rate`: The rate associated with the platform product/service.

== Conclusion

This project model serves as a comprehensive framework for managing project simulations, capturing essential details about project components, costs, and relationships among various entities. The design supports robust project management, enabling effective decision-making and resource allocation in project execution.
